{% extends "resources/base.twig" %}

{% block links %}
    <title></title>
    <link rel="stylesheet" type="text/css" href="/static/css/reset.css"/>
    <link rel="stylesheet" type="text/css" href="/static/css/fonts.css"/>
    <link rel="stylesheet/less" type="text/css" href="/static/less/mandate.less"/>
    <script type="text/javascript">
        less = {
            env: "development", // or "production"
            async: false,       // load imports async
            fileAsync: false   // load imports async when in a page under
        };
    </script>
    <script src="/static/js/less-1.3.3.min.js" type="text/javascript"></script>
{% endblock %}

{% block page %}
    <div class="mandate">
        <table>
            <tr>
                <td class="sepa center w100">
                    {% trans "Mandat de prelevement SEPA" %}<br />
                    <img src="/static/assets/logos/sepa.jpeg" width="100px" />
                </td>
                <td class="main-text">
                    <div class="bottom-space">
                        {{ ("En signant ce formulaire"|trans)|replace({'{NOM DU CREANCIER}': Company.Name}) }}
                    </div>
                    <div>{% trans "Vous beneficiez dun droit" %}</div>
                </td>
                <td class="logo w100">
                    <img src="/static/assets/logos/exaprint.png" width="100px" />
                </td>
            </tr>
        </table>
        <table>
            <tr>
                <td>
                    <div class="inline">{% trans "Reference unique du mandat" %} :</div>
                    <div class="inline">{{ Customer.MandateReference }}</div>

                    <br />

                    <div class="inline orange">{% trans "Debiteur" %} :</div>

                    <br />

                    <div class="block w100">{% trans "Votre Nom" %}</div><!--
                    --><div class="block blank w300">{{ Customer.CompanyName }}</div>

                    <br />

                    <div class="block w100">{% trans "Votre Adresse" %}</div><!--
                    --><div class="block blank w300">{{ Customer.Adress1 }}</div><br />
                    <div class="block blank w300 ml100"></div><br />
                    <div class="block blank w300 ml100"></div>

                    <br />

                    <div class="block w100">{% trans "Code postal" %}</div><!--
                    --><div class="block blank w50">{{ Customer.PostalCode }}</div><!--
                    --><div class="block center w50">{% trans "Ville" %}</div><!--
                    --><div class="block blank w200">{{ Customer.City }}</div>

                    <br />

                    <div class="block w100">{% trans "Pays" %}</div><!--
                    --><div class="block blank w300">{{ Customer.Country }}</div>

                    <br />

                    {% block siret %}
                    <div class="block w100">{% trans "SIRET" %}</div>
                    {% set siret = Customer.Siret ~ "" %}
                    <div class="block blue"><!--
                    --><div class="rect">{{ siret|slice(0, 1) }}</div><!--
                    --><div class="rect">{{ siret|slice(1, 1) }}</div><!--
                    --><div class="rect">{{ siret|slice(2, 1) }}</div><!--
                    --><div class="rect">{{ siret|slice(3, 1) }}</div><!--
                    --><div class="rect">{{ siret|slice(4, 1) }}</div><!--
                    --><div class="rect">{{ siret|slice(5, 1) }}</div><!--
                    --><div class="rect">{{ siret|slice(6, 1) }}</div><!--
                    --><div class="rect">{{ siret|slice(7, 1) }}</div><!--
                    --><div class="rect">{{ siret|slice(8, 1) }}</div><!--
                    --><div class="rect">{{ siret|slice(9, 1) }}</div><!--
                    --><div class="rect">{{ siret|slice(10, 1) }}</div><!--
                    --><div class="rect">{{ siret|slice(11, 1) }}</div><!--
                    --><div class="rect">{{ siret|slice(12, 1) }}</div><!--
                    --><div class="rect final">{{ siret|slice(13, 1) }}</div>
                    </div>

                    <br />
                    {% endblock %}

                    <div class="block w100">{% trans "Banque" %}</div><!--
                    --><div class="block blank blue w300">
                        {{ Customer.BankName }}
                        {% if Customer.BankCity %}
                             ({{ Customer.BankCity }})
                        {% endif %}
                    </div>
                </td>
                <td class="second">
                    <div class="inline">{% trans "Identifiant creancier SEPA" %} :</div>
                    <div class="inline">{{ Company.SepaId }}</div>

                    <br />

                    <div class="inline orange">{% trans "Creancier" %} :</div>

                    <br />

                    <div class="block w100">{{ Company.Name }}</div>

                    <br />

                    <div class="block w300">{{ Company.Adress1 }}</div><br /><!--
                    --><div class="block w300">{{ Company.Adress2 }}</div><br /><!--
                    --><div class="block w300">{{ Company.Adress3 }}</div>

                    <br />

                    <div class="block w100">{{ Company.PostalCode }}</div><!--
                    --><div class="block w50"></div><!--
                    --><div class="block center w50">{{ Company.City }}</div>

                    <br />

                    <div class="block w200">{{ Company.Country }}</div>

                    <br />

                    {% if Company.Siren %}
                    {% block siren %}
                    <div class="block w200">
                        {% trans "Siren" %}
                        {{ Company.Siren }}
                    </div>
                    {% endblock %}
                    {% endif %}
                </td>
            </tr>
        </table>

        {% set iban = Customer.IBAN ~ "" %}

        <div class="block w100">{% trans "IBAN" %}</div><!--
        --><div class="block blue"><!--
            --><div class="rect">{{ iban|slice(0, 1) }}</div><!--
            --><div class="rect">{{ iban|slice(1, 1) }}</div><!--
            --><div class="rect">{{ iban|slice(2, 1) }}</div><!--
            --><div class="rect final">{{ iban|slice(3, 1) }}</div>

            <div class="rect">{{ iban|slice(4, 1) }}</div><!--
            --><div class="rect">{{ iban|slice(5, 1) }}</div><!--
            --><div class="rect">{{ iban|slice(6, 1) }}</div><!--
            --><div class="rect final">{{ iban|slice(7, 1) }}</div>

            <div class="rect">{{ iban|slice(8, 1) }}</div><!--
            --><div class="rect">{{ iban|slice(9, 1) }}</div><!--
            --><div class="rect">{{ iban|slice(10, 1) }}</div><!--
            --><div class="rect final">{{ iban|slice(11, 1) }}</div>

            <div class="rect">{{ iban|slice(12, 1) }}</div><!--
            --><div class="rect">{{ iban|slice(13, 1) }}</div><!--
            --><div class="rect">{{ iban|slice(14, 1) }}</div><!--
            --><div class="rect final">{{ iban|slice(15, 1) }}</div>

            <div class="rect">{{ iban|slice(16, 1) }}</div><!--
            --><div class="rect">{{ iban|slice(17, 1) }}</div><!--
            --><div class="rect">{{ iban|slice(18, 1) }}</div><!--
            --><div class="rect final">{{ iban|slice(19, 1) }}</div>

            <div class="rect">{{ iban|slice(20, 1) }}</div><!--
            --><div class="rect">{{ iban|slice(21, 1) }}</div><!--
            --><div class="rect">{{ iban|slice(22, 1) }}</div><!--
            --><div class="rect final">{{ iban|slice(23, 1) }}</div>

            <div class="rect">{{ iban|slice(24, 1) }}</div><!--
            --><div class="rect">{{ iban|slice(25, 1) }}</div><!--
            --><div class="rect">{{ iban|slice(26, 1) }}</div><!--
            --><div class="rect final">{{ iban|slice(27, 1) }}</div>

            <div class="rect">{{ iban|slice(28, 1) }}</div><!--
            --><div class="rect">{{ iban|slice(29, 1) }}</div><!--
            --><div class="rect final">{{ iban|slice(30, 1) }}</div>
        </div>

        <table>
            <tr>
                <td>

                    {% set bic = Customer.BIC ~ "" %}

                    <div class="block w100">{% trans "BIC" %}</div><!--
                    --><div class="block blue"><!--
                        --><div class="rect">{{ bic|slice(0, 1) }}</div><!--
                        --><div class="rect">{{ bic|slice(1, 1) }}</div><!--
                        --><div class="rect">{{ bic|slice(2, 1) }}</div><!--
                        --><div class="rect">{{ bic|slice(3, 1) }}</div><!--
                        --><div class="rect">{{ bic|slice(4, 1) }}</div><!--
                        --><div class="rect">{{ bic|slice(5, 1) }}</div><!--
                        --><div class="rect">{{ bic|slice(6, 1) }}</div><!--
                        --><div class="rect">{{ bic|slice(7, 1) }}</div><!--
                        --><div class="rect">{{ bic|slice(8, 1) }}</div><!--
                        --><div class="rect">{{ bic|slice(9, 1) }}</div><!--
                        --><div class="rect final">{{ bic|slice(10, 1) }}</div>
                    </div>

                    <br />

                    <div class="block w100">{% trans "A" %} :</div><!--
                    --><div class="block blank w300">{{ Customer.City }}</div>

                    <br />

                    <div class="signature">{% trans "Signature du gerant" %} :</div>
                </td>
                <td class="second">
                    <div class="block">{% trans "Paiement" %} :</div>

                    <div class="block">
                        <div class="rect final">X</div>
                    </div>

                    <div class="block">{% trans "Recurrent/Repetitif" %}</div>

                    <br />

                    {% set date = "now"|date("dmY") %}

                    <div class="block">{% trans "Le" %} :</div>
                    <div class="block">
                        <div class="rect">{{ date|slice(0, 1) }}</div><!--
                        --><div class="rect">{{ date|slice(1, 1) }}</div><!--
                        --><div class="rect">{{ date|slice(2, 1) }}</div><!--
                        --><div class="rect">{{ date|slice(3, 1) }}</div><!--
                        --><div class="rect">{{ date|slice(4, 1) }}</div><!--
                        --><div class="rect">{{ date|slice(5, 1) }}</div><!--
                        --><div class="rect">{{ date|slice(6, 1) }}</div><!--
                        --><div class="rect final">{{ date|slice(7, 1) }}</div>
                    </div>

                    <br />

                    <div class="bottom-space">{% trans "Note" %}</div>

                    {% block important %}
                    <div class="bottom-space">{% trans "Important" %}</div>
                    {% endblock %}

                    <div class="requires">{% trans "Veuillez completer tous les champs du mandat." %}</div>
                </td>
            </tr>
        </table>
    </div>
{% endblock %}
